{% extends "layout.html" %}
{% block content %}

<div class="content-section">
    <form method="POST" action="">
        {{ form.hidden_tag() }}
        <fieldset class="form-group m0">
            <!-- Informacije o školi -->
            <h4 class="mb-3">Informacije o školi</h4>
            <div class="form-group">
                {{ form.school_name.label(class="form-control-label") }} 
                {% if form.school_name.errors %} 
                    {{ form.school_name(class="form-control form-control-lg is-invalid") }}
                    <div class="invalid-feedback">
                        {% for error in form.school_name.errors %}
                            <span>{{ error }}</span>
                        {% endfor %}
                    </div>
                {% else %} 
                    {{ form.school_name(class="form-control form-control-lg") }} 
                {% endif %}
            </div>
            
            <!-- Adresa -->
            <h4 class="mb-3 mt-4">Adresa</h4>
            <div class="form-group">
                {{ form.school_address.label(class="form-control-label") }} 
                {% if form.school_address.errors %} 
                    {{ form.school_address(class="form-control form-control-lg is-invalid") }}
                    <div class="invalid-feedback">
                        {% for error in form.school_address.errors %}
                            <span>{{ error }}</span>
                        {% endfor %}
                    </div>
                {% else %} 
                    {{ form.school_address(class="form-control form-control-lg") }} 
                {% endif %}
            </div>
            <div class="row">
                <div class="col-md-6 form-group">
                    {{ form.school_zip_code.label(class="form-control-label") }} 
                    {% if form.school_zip_code.errors %} 
                        {{ form.school_zip_code(class="form-control form-control-lg is-invalid") }}
                        <div class="invalid-feedback">
                            {% for error in form.school_zip_code.errors %}
                                <span>{{ error }}</span>
                            {% endfor %}
                        </div>
                    {% else %} 
                        {{ form.school_zip_code(class="form-control form-control-lg") }} 
                    {% endif %}
                </div>
                <div class="col-md-6 form-group">
                    {{ form.school_city.label(class="form-control-label") }} 
                    {% if form.school_city.errors %} 
                        {{ form.school_city(class="form-control form-control-lg is-invalid") }}
                        <div class="invalid-feedback">
                            {% for error in form.school_city.errors %}
                                <span>{{ error }}</span>
                            {% endfor %}
                        </div>
                    {% else %} 
                        {{ form.school_city(class="form-control form-control-lg") }} 
                    {% endif %}
                </div>
            </div>
            <div class="form-group">
                {{ form.school_municipality.label(class="form-control-label") }} 
                {% if form.school_municipality.errors %} 
                    {{ form.school_municipality(class="form-control form-control-lg is-invalid") }}
                    <div class="invalid-feedback">
                        {% for error in form.school_municipality.errors %}
                            <span>{{ error }}</span>
                        {% endfor %}
                    </div>
                {% else %} 
                    {{ form.school_municipality(class="form-control form-control-lg") }} 
                {% endif %}
            </div>
            
            <!-- Kontakt informacije -->
            <h4 class="mb-3 mt-4">Kontakt informacije</h4>
            <div class="form-group">
                {{ form.school_phone_number.label(class="form-control-label") }} 
                {% if form.school_phone_number.errors %} 
                    {{ form.school_phone_number(class="form-control form-control-lg is-invalid") }}
                    <div class="invalid-feedback">
                        {% for error in form.school_phone_number.errors %}
                            <span>{{ error }}</span>
                        {% endfor %}
                    </div>
                {% else %} 
                    {{ form.school_phone_number(class="form-control form-control-lg") }} 
                {% endif %}
            </div>
            <div class="form-group">
                {{ form.school_email.label(class="form-control-label") }} 
                {% if form.school_email.errors %} 
                    {{ form.school_email(class="form-control form-control-lg is-invalid") }}
                    <div class="invalid-feedback">
                        {% for error in form.school_email.errors %}
                            <span>{{ error }}</span>
                        {% endfor %}
                    </div>
                {% else %} 
                    {{ form.school_email(class="form-control form-control-lg") }} 
                {% endif %}
            </div>
            
            <!-- Finansijske informacije -->
            <h4 class="mb-3 mt-4">Finansijske informacije</h4>
            {% for bank_account in form.school_bank_accounts %}
            {{ bank_account.hidden_tag() }}
            <div class="row mb-3">
                <div class="col-md-6 form-group">
                    {{ bank_account.bank_account_number.label(class="form-control-label") }}
                    {% if bank_account.bank_account_number.errors %}
                        <div class="invalid-feedback">
                            {% for error in bank_account.bank_account_number.errors %}
                                <span>{{ error }}</span>
                            {% endfor %}
                        </div>
                    {% endif %}
                    {{ bank_account.bank_account_number(class="form-control form-control-lg", value=bank_account.bank_account_number.data) }}
                </div>
                <div class="col-md-6 form-group">
                    {{ bank_account.reference_number_spiri.label(class="form-control-label") }}
                    {% if bank_account.reference_number_spiri.errors %}
                        <div class="invalid-feedback">
                            {% for error in bank_account.reference_number_spiri.errors %}
                                <span>{{ error }}</span>
                            {% endfor %}
                        </div>
                    {% endif %}
                    {{ bank_account.reference_number_spiri(class="form-control form-control-lg", value=bank_account.reference_number_spiri.data) }}
                </div>
            </div>
            {% endfor %}
            
            <!-- Dugme za slanje -->
            <div class="mt-4 text-center">
                {{ form.submit(class="btn btn-primary btn-in-center loading") }}
            </div>
        </fieldset>
    </form>
</div>
{% endblock content%}